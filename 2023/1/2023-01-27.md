## FCM(Firebase Cloud Messaging)

— Firebase > Build, 클라우드 메시징 서비스, **FCM 서버**<br>

- 구글에서 지원하는 **무료 메시지 전송 서비스**
- **교차 플랫폼 메시징 솔루션**
- **플랫폼에 종속되지 않고 푸쉬 메시지 전송 가능**
- iOS, Android, Web 각 플랫폼에서 푸쉬 메시지를 보내려면 각 플랫폼 환경별로 개발해야 하는 불편함이 있는데, **이를 하나로 통합하는 솔루션**

<br>

### 사용 이점

- 서버를 경유하여 실시간으로 푸쉬 메시지를 받으려면,
  - 사용자는 항상 서버에 접속해있어야 하는데 이는 사용자 기기의 배터리 및 네트워크 리소스를 매우 낭비하는 행위
- **클라우드 메시징 서버**를 **중간(=경유하여)** 에 두어, 사용자는 **낮은 배터리와 네트워크의 사용만으로도 메시지를 실시간으로 송수신 처리 가능**
- 대부분의 앱 서비스들은 클라우드 메시징 서버를 경유하여 **실시간으로 유저들에게 메시지를 전송**하고 있음
- FCM 서버를 거쳐서 앱에 전달하는 방식인 클라우드 메시징을 이용하면, **_서버와 앱이 네트워크 연결을 지속해서 유지하지 않아도 되며 앱이 포그라운드 상황이 아니더라도 데이터 송신이 가능_**하다.

<br>

### 빌드

- FCM 서버는 2가지 구성 요소로 구성
  - google에서 제공하는 **FCM 백엔드**
  - **firebase용 cloud functions** 혹은 앱 서버, 신뢰할 수 있는 환경 서버
- [공식문서](https://firebase.google.com/docs/cloud-messaging/server?authuser=0&hl=ko#choosing-a-server-option)의 `서버 옵션 선택` 을 보면 Firebase Admin SDK 혹은 원시 프로토콜을 사용하여 FCM 서버와 상호작용하는 방법을 결정해야 한다고 함
- 특정 유저의 디바이스 토큰값을 넣으면 그 유저에게 푸쉬 알림이 전송<br>
  ex) 1번 유저가 작성한 글에 댓글이 달려서 알림을 주고 싶을 때, 1번 유저의 고유 토큰값을 입력
  디바이스 토큰 값을 로그인 할 때 클라이언트 쪽에서 받아 **유저 DB에 디바이스 토큰 값을 같이 저장**

<br>

## 공부 방향

MySQL과 자바스크립트를 더욱 깊게 알기를 공부하기로 했었는데 생각만큼 잘 되지 않았다. 특히 자바스크립트를 더욱 깊게 알기란 말만 그럴듯하지(~~말도 아닌가?~~) 막상 해보려니까 너무 뜬구름 같았던... 마치 수학의 정석 펴서 1장 2장 공부하는 느낌이었다. 자바스크립트를 아는 건 프로그래머스 코딩테스트로 대치해야겠다.
<br>

그리고 MySQL은... 정석 혹은 백과사전 느낌으로 Real MySQL 8.0을 구입했는데 join을 공략해야겠다. 사실상 우선순위를 따지자면 1. `join` 2. `서브 쿼리` 라고 사수님께 말씀을 들었다. 늘 어딘가에 던져진 너낌,,, 이상하단 말이지 뭘 하기는 하는데 먼가 뚜렷하게 남지는 않는... 아, 그리고 지금은 문서를 노션에서만 작성하고 있는데 위키를 이용하면 좋을 것 같다. 조금 더 정제해서 써야하겠지만.
<br>
